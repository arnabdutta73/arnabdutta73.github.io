<!doctype html>
<html lang="en">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
<!-- Kite Publisher Library -->
<script src="https://kite.trade/publisher.js?v=3"></script>
<!-- jQuery library -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

<!-- Popper JS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>

<!-- Latest compiled JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
<!--pie charts lib-->
<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css"
      integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">

<head>
    <link rel="stylesheet" href="https://cdn.rawgit.com/openlayers/openlayers.github.io/master/en/v5.3.0/css/ol.css"
          type="text/css">
    <style>
        .map {
            height: 400px;
            width: 100%;
        }

        .parallax {
            /* The image used */
            background-image: url("images/map.jpg");

            /* Set a specific height */
            min-height: 500px;

            /* Create the parallax scrolling effect */
            background-attachment: fixed;
            background-position: center;
            background-repeat: no-repeat;
            background-size: cover;
        }

        .text {
            opacity: 0.9;
            background-color: white;
            color: black;
            font-size: 10vw;
            /* Responsive font size */
            font-weight: bold;
            margin: 0 auto;
            /* Center the text container */
            padding: 10px;
            width: 50%;
            text-align: center;
            /* Center text */
            position: absolute;
            /* Position text */
            top: 50%;
            /* Position text in the middle */
            left: 50%;
            /* Position text in the middle */
            transform: translate(-50%, -50%);
            /* Position text in the middle */
            mix-blend-mode: screen;
            /* This makes the cutout text possible */
        }




















    </style>
    <script src="https://cdn.rawgit.com/openlayers/openlayers.github.io/master/en/v5.3.0/build/ol.js"></script>
    <!-- A Kite button will be generated inside this container //-->
    <p id="default-button"></p>

    <!-- The basket will be linked to this element's onClick //-->
    <button id="custom-button">Buy the basket</button>

    <!-- Include the plugin //-->
    <script src="https://kite.trade/publisher.js?v=3"></script>

    <script>
// Only run your custom code once KiteConnect has fully initialised.
// Use KiteConnect.ready() to achieve this.
KiteConnect.ready(function() {
    // Initialize a new Kite instance.
    // You can initialize multiple instances if you need.
    var kite = new KiteConnect("2culbqpnk6ze0k4l");

    // Add a stock to the basket
    kite.add({
        "exchange": "NSE",
        "tradingsymbol": "INFY",
        "quantity": 5,
        "transaction_type": "BUY",
        "order_type": "MARKET"
    });

    // Add another stock
    kite.add({
        "exchange": "NSE",
        "tradingsymbol": "SBIN",
        "quantity": 1,
        "order_type": "LIMIT",
        "transaction_type": "SELL",
        "price": 105
    });

    // Add a Bracket Order
    kite.add({
        "tradingsymbol": "RELIANCE",
        "exchange": "NSE",
        "transaction_type": "BUY",
        "order_type": "LIMIT",
        "product": "MIS",
        "price": 915.15,
        "quantity": 1,
        "variety": "bo",
        "stoploss": 5,
        "squareoff": 7,
        "trailing_stoploss": 1.5,
        "readonly": true
    });

    // Register an (optional) callback.
    kite.finished(function(status, request_token) {
        alert("Finished. Status is " + status);
    });

    // Render the in-built button inside a given target
    kite.renderButton("#buy");

    // OR, link the basket to any existing element you want
    //kite.link("#custom-button");
});

window.onload = function(e){

var salary = document.getElementById('salary');
var savings = document.getElementById('savings');
var savings_p = document.getElementById('savings_p');
var needs = document.getElementById('needs');
var needs_p = document.getElementById('needs_p');
var wants = document.getElementById('wants');
var wants_p = document.getElementById('wants_p');

salary.value = 1000000

savings_p.value = 34;
needs_p.value = 33;
wants_p.value = 33;

savings.value = parseInt(savings_p.value)*parseInt(salary.value)*0.01;
needs.value = parseInt(needs_p.value)*parseInt(salary.value)*0.01;
wants.value = parseInt(wants_p.value)*parseInt(salary.value)*0.01;

    plot_salary();


$('#salary').on('change', function() {
    savings.value = parseInt(savings_p.value)*parseInt(salary.value)*0.01;
    needs.value = parseInt(needs_p.value)*parseInt(salary.value)*0.01;
    wants.value = parseInt(wants_p.value)*parseInt(salary.value)*0.01;
    plot_salary();
    plot_compound();
    console.log(savings.value);
});

$('#needs').on('change', function() {
    needs_p.value = (needs.value/salary.value)*100;
    savings_p.value = 100-(parseInt(needs_p.value)+parseInt(wants_p.value));
    savings.value = parseInt(savings_p.value)*parseInt(salary.value)*0.01;
    plot_salary();
    plot_compound();
});
$('#needs_p').on('change', function() {
    needs.value = (parseInt(needs_p.value)*salary.value)/100
    savings_p.value = 100-(parseInt(needs_p.value)+parseInt(wants_p.value));
    savings.value = parseInt(savings_p.value)*parseInt(salary.value)*0.01;
    plot_salary();
    plot_compound();
});
$('#wants').on('change', function() {
    wants_p.value = (wants.value/salary.value)*100;
    savings_p.value = 100-(parseInt(needs_p.value)+parseInt(wants_p.value));
    savings.value = parseInt(savings_p.value)*parseInt(salary.value)*0.01;
    plot_salary();
    plot_compound();
});
$('#wants_p').on('change', function() {
    wants.value = (parseInt(wants_p.value)*salary.value)/100
    savings_p.value = 100-(parseInt(needs_p.value)+parseInt(wants_p.value));
    savings.value = parseInt(savings_p.value)*parseInt(salary.value)*0.01;
    plot_salary();
    plot_compound();
});

function plot_salary(){
    var data = [{
      values: [parseInt(needs_p.value), parseInt(wants_p.value), parseInt(savings_p.value)],
      labels: ['Needs', 'Wants', 'Savings'],
      textinfo: "label+percent",
      type: 'pie',
      marker: {
        colors: ['rgb(91, 80, 212)', 'rgb(181, 80, 212)', 'rgb(80, 183, 212)']
      },
    }];

    var layout = {
      height: 400,
      width: 500,
      showlegend: false,
      title: 'Salary Distribution'
    };
    Plotly.newPlot('salary_dist', data, layout);
}




function getxy(roi, years){
    var i;
    amount = parseInt(savings.value);
    var x = [];
    var y = [];

    for (i = 1; i <= years; i++) {
      y.push(amount);
      amount += i*roi*parseInt(savings.value)*0.01;
      x.push(i);
    }
    return [x, y];
}



function plot_compound(){
    var years, roi;
    years = 10;
    roi = 8;
    var xy = getxy(roi, years);
    var trace1 = {
      x: xy[0],
      y: xy[1],
      type: 'lines+markers',
      name: '8% ROI'
    };

    var years, roi;
    years = 10;
    roi = 10;
    var xy = getxy(roi, years);

    var trace2 = {
      x: xy[0],
      y: xy[1],
      type: 'lines+markers',
      name: '10% ROI'
    };

    var layout = {
      title:'Compounding Interest Graph'
    };
    var data = [trace1, trace2];



    Plotly.newPlot('compounding', data, layout);
}
plot_compound();

var data1 = [{
  values: [50, 40, 10],
  labels: ['Debt', 'MF', 'Equity'],
  textinfo: "label+percent",
  type: 'pie',
  marker: {
    colors: ['rgb(91, 80, 212)', 'rgb(181, 80, 212)', 'rgb(80, 183, 212)']
  },
}];

var layout1 = {
  height: 400,
  width: 500,
  showlegend: false,
  title: 'Investment Distribution (Low risk)'
};

var data2 = [{
  values: [30, 50, 20],
  labels: ['Debt', 'MF', 'Equity'],
  textinfo: "label+percent",
  type: 'pie',
  marker: {
    colors: ['rgb(91, 80, 212)', 'rgb(181, 80, 212)', 'rgb(80, 183, 212)']
  },
}];

var layout2 = {
  height: 400,
  width: 500,
  showlegend: false,
  title: 'Investment Distribution (Medium risk)'
};

var data3 = [{
  values: [20, 40, 40],
  labels: ['Debt', 'MF', 'Equity'],
  textinfo: "label+percent",
  type: 'pie',
  marker: {
    colors: ['rgb(91, 80, 212)', 'rgb(181, 80, 212)', 'rgb(80, 183, 212)']
  },
}];

var layout3 = {
  height: 400,
  width: 500,
  showlegend: false,
  title: 'Investment Distribution (High risk)'
};

Plotly.newPlot('inv_dist', data1, layout1);
$('#selector button').click(function() {
    $(this).addClass('active').siblings().removeClass('active');

    if($(this).text() == 'Low'){
        console.log($(this).text());
        Plotly.newPlot('inv_dist', data1, layout1);
    }
    if($(this).text() == 'Medium'){
        console.log($(this).text());
        Plotly.newPlot('inv_dist', data2, layout2);
    }
    if($(this).text() == 'High'){
        console.log($(this).text());
        Plotly.newPlot('inv_dist', data3, layout3);
    }
});



} // window on load











    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>My CV</title>
</head>

<body>
<div class="container-fluid">
    <div class="row-fluid" style="padding:20px;">

        <nav class="navbar navbar-expand-sm bg-dark navbar-dark fixed-top">
            <a class=" navbar-brand display-4" href="#">Arnab</a>
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link" href="./index.html">Home</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="./geos.html">Geospatial Stuff</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="./contact.html">Contact Me</a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="./investment.html">Investment Planning</a>
                </li>
            </ul>
        </nav>

    </div>
    <!--    <div class="parallax" style="height: 400px">-->
    <!--        <h6 class="text"-->
    <!--            style="text-justify: left; width: auto; height: auto; font-size: 25px; padding-top: 2px; text-shadow: 5px 2px 2px white, 1px white;">-->
    <!--            Price is what you pay. Value is what you get.<br> - Warren Buffett</h6>-->
    <!--    </div>-->
    <div class="parallax">
        <div class="row" style="opacity: 0.95;">


            <!-- <div class="row-fluid"> -->
            <div class="card border shadow-lg p-4 mb-4 bg-white float-right" style="width:100%">
                <div class="card-body">

                    <h3 class="display-2 text-primary text-center">
                        <i class="fa fa-address-book" style="font-size:36px"></i>Investment Planning</h3>
                    <div class="container">
                        <div class="row">
                            <h1>Why to invest?</h1>
                            <p class="text-justify">
                                I was once talking with my grandmother and she told me the price difference between when
                                she was young and now.
                                She told me that she was getting married in the year 1964 to a man (my grandfather)
                                whose salary was a mere &#8377;500/month
                                and with that they used to buy groceries worth &#8377;30/month. Now, I have to buy the
                                groceries worth &#8377;7000-&#8377;8000/month.

                            </p>
                        </div>
                    </div>
                    <div class="container">
                        <div class="row">
                            <div class="col-6">
                                <table class="salary_dist text-center">
                                    <tbody>
                                    <tr>
                                        <th scope="row" class="m-3 p-1 text-center">
                                            <div class="text-center">
                                                Salary
                                            </div>
                                        </th>
                                        <td>
                                            <div class="input-group m-3 p-1">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">₹</span>
                                                </div>
                                                <input type="number" class="form-control" id="salary"
                                                       aria-label="Amount (to the nearest rupee)">
                                            </div>
                                        </td>
                                        <td>
                                            <div class="input-group m-3 p-1">
                                                <input type="number" class="form-control readonly" id="salary_p"
                                                       value="100"
                                                       aria-label="Amount (to the nearest rupee)" readonly>
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">%</span>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <th scope="row" class="m-3 p-1 text-center">
                                            <div class="text-center">
                                                Savings
                                            </div>
                                        </th>
                                        <td>
                                            <div class="input-group m-3 p-1">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">₹</span>
                                                </div>
                                                <input type="number" class="form-control" id="savings"
                                                       aria-label="Amount (to the nearest rupee)" readonly>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="input-group m-3 p-1">
                                                <input type="number" class="form-control" id="savings_p"
                                                       aria-label="Amount (to the nearest rupee)" value="10" readonly>
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">%</span>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <th scope="row" class="m-3 p-1">
                                            <div class="text-center">
                                                Needs
                                            </div>
                                        </th>
                                        <td>
                                            <div class="input-group m-3 p-1">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">₹</span>
                                                </div>
                                                <input type="number" class="form-control" id="needs"
                                                       aria-label="Amount (to the nearest rupee)">
                                            </div>
                                        </td>
                                        <td>
                                            <div class="input-group m-3 p-1">
                                                <input type="number" class="form-control" id="needs_p"
                                                       aria-label="Amount (to the nearest rupee)">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">%</span>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <th scope="row" class="m-3 p-1">
                                            <div class="text-center">
                                                Wants
                                            </div>
                                        </th>
                                        <td>
                                            <div class="input-group m-3 p-1">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">₹</span>
                                                </div>
                                                <input type="number" class="form-control" id="wants"
                                                       aria-label="Amount (to the nearest rupee)">
                                            </div>
                                        </td>
                                        <td>
                                            <div class="input-group m-3 p-1">
                                                <input type="number" class="form-control" id="wants_p"
                                                       aria-label="Amount (to the nearest rupee)">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">%</span>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>

                                    </tbody>
                                </table>
                            </div>
                            <div class="col-6">
                                <!--salary distribution pie chart-->
                                <div class="" id="salary_dist"></div>
                            </div>
                        </div>

                        <!--compounding graph-->
                        <div class="col-12">
                            <div class="" id="compounding"></div>
                        </div>
                    </div>


                    <div>
                        <div class="row">
                            <div class="col-6">
                                <!--risk-o-meter-->
                                <div class="text-center" id="risk">
                                    <h4 class="text-center">Risk-o-Meter</h4>
                                    <div id="selector" class="btn-group">
                                        <button type="button" id="low" class="btn btn-secondary active">Low</button>
                                        <button type="button" id="medium" class="btn btn-secondary">Medium</button>
                                        <button type="button" id="high" class="btn btn-secondary">High</button>
                                    </div>
                                </div>
                            </div>
                            <div class="col-6">
                                <!--investment recommendation chart-->
                                <div class="" id="inv_dist"></div>
                            </div>
                        </div>

                    </div>
                </div>

                <!--  A link that initiates a buy (market) of the SBIN stock //-->
<!--                <kite-button href="#" data-kite="2culbqpnk6ze0k4l"-->
<!--                             data-exchange="NSE"-->
<!--                             data-tradingsymbol="SBIN"-->
<!--                             data-transaction_type="BUY"-->
<!--                             data-quantity="1"-->
<!--                             data-order_type="MARKET">Buy SBI stock-->
<!--                </kite-button>-->
                <p>
                    <b>Disclaimer</b>: I am not a professional legal or financial advisor and the contents written in
                    this website are based on my
                    learning and research and are just for educational purposes.
                    Please read all the necessary documents before investing in any form or instrument.
                </p>
            </div>
        </div>
        <!-- </div> -->
    </div>

</div>
<div class="footer-copyright text-right fixed-bottom py-3 font-italic font-weight-lighter">2019 ©
    <a> Arnab Dutta</a>
</div>
</div>

</body>

</html>